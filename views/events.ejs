<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="../../public/Css/admin.css">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <script>
        function load() {
            var con = [{
                    "919": 919234234,
                    "checkIn": "2:00pm",
                    "checkOut": "2:50pm"
                }, {
                    "919": 919245254,
                    "checkIn": "2:00pm",
                    "checkOut": "2:50pm"
                }, {
                    "919": 919673908,
                    "checkIn": "2:00pm",
                    "checkOut": "2:50pm"
                }, {
                    "919": 919832093,
                    "checkIn": "2:00pm",
                    "checkOut": "2:50pm"
                }, {
                    "919": 919536298,
                    "checkIn": "2:00pm",
                    "checkOut": "2:50pm"
                }, {
                    "919": 919616886,
                    "checkIn": "2:01pm",
                    "checkOut": "2:50pm"
                }, {
                    "919": 919287325,
                    "checkIn": "2:03pm",
                    "checkOut": "2:50pm"
                }, {
                    "919": 919245554,
                    "checkIn": "2:03pm",
                    "checkOut": "2:50pm"
                }, {
                    "919": 919246754,
                    "checkIn": "2:04pm",
                    "checkOut": "2:51pm"
                }, {
                    "919": 919245789,
                    "checkIn": "2:04pm",
                    "checkOut": "2:52pm"
                }, {
                    "919": 919368425,
                    "checkIn": "2:05pm",
                    "checkOut": "2:52pm"
                }, {
                    "919": 919888647,
                    "checkIn": "2:05pm",
                    "checkOut": "2:55pm"
                },


            ]
            var tbody = document.getElementById('tbody')

            con.forEach(stu => {
                console.log(stu);
                var tr = document.createElement('tr')
                tr.innerHTML = `
                <td>${stu['919']}</td>
                <td>${stu.checkIn}</td>
                <td>${stu.checkOut}</td>
                `
                console.log(tr);
                tbody.appendChild(tr)
            })
        }

        function conf() {
            alert("Are you sure?")
        }

        function att(params) {

        }
    </script>
    <style>
        span {
            font-weight: bolder;
        }
        
        table {
            border: solid black 1px;
            margin: 0 auto;
        }
        
        td {
            margin: 10px;
            padding: 20px;
            border-right: 1px solid black;
        }
        
        #main {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            justify-content: center;
            gap: 40px;
        }
        
        #pbar {
            padding: 5px;
            width: 20%;
            background-color: rgb(43, 83, 31);
        }
        
        th {
            text-align: center;
        }
        
        #abar {
            padding: 5px;
            width: 80%;
            background-color: rgb(243, 31, 31);
        }
        
        #lbar {
            padding: 5px;
            width: 80%;
            background-color: rgb(197, 123, 11);
        }
        
        #totalB {
            display: flex;
            flex-direction: row;
            width: 100%;
            text-align: center;
            color: white;
            font-weight: bolder;
        }
        
        #reportBar {
            color: white;
            display: flex;
            width: 100%;
            background-color: rgb(42, 92, 37);
            flex-direction: row;
            padding: 20px;
            justify-content: space-around;
        }
    </style>
</head>

<body onload="load()">
    <%- include('./Components/navbar') %>
        <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">Attendance Tracking</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                         <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <!-- <div id="totalB">
                            <div id="pbar">Present</div>
                            <div id="lbar">Late</div>

                            <div id="abar">Absent</div> -->
                        <!-- </div> -->
                        <div id="totalB">
                            <div id="pbar"> Present 16</div>
                            <div id="lbar">Late 5</div>
                            <div id="abar">Absent 34</div>
                        </div>
                        <br>
                        <table>
                            <tbody id="tbody">
                                <tr style="border: solid 1px black;">
                                    <td>Student Id</td>
                                    <td>Check In</td>
                                    <td>Check Out</td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                    <div class="modal-footer">

                        <button type="button" class="btn btn-primary">Edit</button>
                        <button type="button" class="btn btn-primary">Save changes</button>

                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div id="reportBar">
                <select name="Depart" id="">
                <option value="">Public</option>
                <option value="">Private</option>
            </select>
                <select name="Event" id="">
                 <option value="">All</option>
                <option value="">Capstone</option>
                <option value="">EN</option>
                <option value="">BI</option>
            </select>
                <label for="">from Date</label>
                <input type="date" name="" id="">
                <label for="">to Date</label>
                <input type="date" name="" id="">
                <select name="SelectYear" id="">
                <option value="">2023</option>
                <option value="">2022</option>
                
            </select>
                <select name="SelectMonth" id="">
                <option value="">April</option>
                <option value="">March</option>
                <option value="">Feb</option>
            </select>
                <button id="reportB">Search</button>
            </div>
            <!-- <div>
                <select name="Depart" id="">
                <option value="">Date</option>
                <option value="">days</option>
            <option value="">Department</option>
            <option value="">Category</option>
            </select>
                <button>Sort</button>
            </div> -->
            <div id="main">
                <% var index = 0; %>
                    <% Object.keys(array).forEach(element=>{ index = index+1 %>
                        <div class="event">
                            <div>
                                <span for="">Name:</span>
                                <p>
                                    <%= array[element].name %>
                                </p>
                                <p><span for="">Location:</span>
                                    <%= array[element].location %>
                                </p>
                                <p><span for="">Category:</span>
                                    <%= array[element].type %>

                                </p>
                                <p><span for="">Event Start Date:</span>
                                    <%= array[element].ESdate %>
                                </p>
                                <p><span>Event End Date:</span>
                                    <%= array[element].EEdate %>
                                </p>
                                <p><span for="">Event Start Time:</span>
                                    <%= array[element].EStime %>
                                </p>
                                <p><span for="">Event End Time:</span>
                                    <%= array[element].EEtime %>
                                </p>
                                <p>
                                    <lable>Event Days:</lable>
                                    <%= array[element].rec %>
                                </p>
                                <p><span for="">Capacity:</span>
                                    <%= array[element].capacity %>
                                </p>


                            </div>
                            <div>
                                <% if(index==4){ %>
                                    <a href="/update/<%= index %>">
                                        <button>Edit</button>
                                    </a>
                                    <form action="/delete/<%= index %>" method="post">
                                        <input type="submit" onclick="conf()" value="Delete">
                                    </form>
                                    <% } else {%>

                                        <button type="button" class="btn btn-dark" data-toggle="modal" data-target="#exampleModalCenter">
                                   Attendance
                                  </button>
                                        <% } %>
                            </div>
                        </div>
                        <% }) %>
            </div>
        </div>
</body>

</html>